<link rel="stylesheet" href="/frontend/codes.css">

<!-- Country-Specific Hero Section -->
<section style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 3rem 0; border-radius: 20px; margin-bottom: 2rem;">
    <div style="max-width: 1200px; margin: 0 auto; padding: 0 2rem; text-align: center;">
        <h1 style="color: #ffffff; font-size: 2.5rem; font-weight: 700; margin-bottom: 1rem; text-shadow: 2px 2px 4px rgba(0,0,0,0.3);">
            <%= country %> EPG Channel Codes
        </h1>
        <p style="color: #b8c5d6; font-size: 1.2rem; max-width: 800px; margin: 0 auto; line-height: 1.6;">
            Complete <%= country %> Electronic Program Guide codes database with <%= epgCodes.length %> professional TV channel identifiers for streaming integration and broadcasting solutions.
        </p>
        
        <!-- Country Stats -->
        <div style="display: flex; justify-content: center; gap: 2rem; margin-top: 2rem; flex-wrap: wrap;">
            <div style="text-align: center;">
                <div style="font-size: 2rem; font-weight: bold; color: #667eea;"><%= epgCodes.length %></div>
                <div style="color: #b8c5d6; font-size: 0.9rem;">Total Channels</div>
            </div>
            <div style="text-align: center;">
                <div style="font-size: 2rem; font-weight: bold; color: #f093fb;"><%= categories.length %></div>
                <div style="color: #b8c5d6; font-size: 0.9rem;">Categories</div>
            </div>
            <div style="text-align: center;">
                <div style="font-size: 2rem; font-weight: bold; color: #4facfe;">100%</div>
                <div style="color: #b8c5d6; font-size: 0.9rem;">Coverage</div>
            </div>
        </div>
    </div>
</section>

<!-- Navigation Breadcrumb -->
<nav style="margin-bottom: 2rem;">
    <div style="background: rgba(255, 255, 255, 0.05); padding: 1rem; border-radius: 10px; border: 1px solid rgba(255, 255, 255, 0.1);">
        <div style="color: #b8c5d6; font-size: 0.9rem;">
            <a href="/codes" style="color: #667eea; text-decoration: none;">← All Countries</a>
            <span style="margin: 0 0.5rem;">•</span>
            <span style="color: #ffffff;"><%= country %> EPG Codes</span>
        </div>
    </div>
</nav>

    
</div>

<!-- Country EPG Codes Section -->
<section class="codes-container">
    <div class="codes-header">
        <h1 class="text-white codes-section-title"><%= country %> Channel Codes</h1>
        <p class="codes-section-subtitle">Professional EPG codes for <%= country %> television channels and streaming services</p>
    </div>

    <!-- Search and Filter Controls -->
    <div class="codes-controls">
        <div class="row mb-4">
            <div class="col-md-6">
                    <i class="fa fa-search search-icon"></i>
                    <input type="text" id="searchInput" class="form-control search-input" placeholder="Search <%= country %> channels or codes...">
                </div>
            </div>
            <div class="col-md-6">
                <select id="categoryFilter" class="form-control filter-select">
                    <option value="">All Categories</option>
                    <% categories.forEach(category => { %>
                        <option value="<%= category %>"><%= category %></option>
                    <% }); %>
                </select>
            </div>
        </div>
    </div>

    <!-- Country EPG Codes Table -->
    <div class="codes-table-container">
        <div class="table-responsive">
            <table class="table codes-table" id="codesTable">
                <thead>
                    <tr>
                        <th>Channel Name</th>
                        <th>EPG Code</th>
                        <th>Category</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody id="codesTableBody">
                    <% epgCodes.forEach(channel => { %>
                        <tr data-category="<%= channel.category %>">
                            <td class="channel-name"><%= channel.name %></td>
                            <td class="channel-code">
                                <code><%= channel.code %></code>
                            </td>
                            <td class="channel-category">
                                <span class="category-badge <%= channel.category.toLowerCase() %>"><%= channel.category %></span>
                            </td>
                            <td class="channel-action">
                                <button class="btn btn-copy" onclick="copyCode('<%= channel.code %>')" title="Copy EPG code">
                                    <i class="fa fa-copy"></i>
                                </button>
                            </td>
                        </tr>
                    <% }); %>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Results Info -->
    <div class="codes-results-info">
        <p class="text-muted text-center" id="resultsInfo">
            Showing <span id="resultCount"><%= epgCodes.length %></span> <%= country %> EPG codes
        </p>
    </div>
</section>

<!-- Country Information Section -->
<section style="background: rgba(255, 255, 255, 0.02); padding: 2rem; border-radius: 16px; border: 1px solid rgba(255, 255, 255, 0.1); margin-top: 2rem;">
    <div class="row">
        <div class="col-md-4 mb-3">
            <div style="text-align: center;">
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem;">
                    <i class="fa fa-tv" style="color: white; font-size: 24px;"></i>
                </div>
                <h3 style="color: #ffffff; font-size: 1.2rem; margin-bottom: 0.5rem;">Comprehensive Coverage</h3>
                <p style="color: #b8c5d6; font-size: 0.9rem; margin: 0;"><%= epgCodes.length %> <%= country %> channels with complete EPG data integration</p>
            </div>
        </div>
        
        <div class="col-md-4 mb-3">
            <div style="text-align: center;">
                <div style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem;">
                    <i class="fa fa-cogs" style="color: white; font-size: 24px;"></i>
                </div>
                <h3 style="color: #ffffff; font-size: 1.2rem; margin-bottom: 0.5rem;">Professional Integration</h3>
                <p style="color: #b8c5d6; font-size: 0.9rem; margin: 0;">Ready-to-use EPG codes for streaming and broadcasting solutions</p>
            </div>
        </div>
        
        <div class="col-md-4 mb-3">
            <div style="text-align: center;">
                <div style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem;">
                    <i class="fa fa-globe" style="color: white; font-size: 24px;"></i>
                </div>
                <h3 style="color: #ffffff; font-size: 1.2rem; margin-bottom: 0.5rem;"><%= country %> Focused</h3>
                <p style="color: #b8c5d6; font-size: 0.9rem; margin: 0;">Specialized database covering all major <%= country %> television networks</p>
            </div>
        </div>
    </div>
</section>

<script>
// Search and Filter functionality for country page
document.addEventListener('DOMContentLoaded', function() {
    const searchInput = document.getElementById('searchInput');
    const categoryFilter = document.getElementById('categoryFilter');
    const tableBody = document.getElementById('codesTableBody');
    const resultCount = document.getElementById('resultCount');
    
    function filterTable() {
        const searchTerm = searchInput.value.toLowerCase();
        const selectedCategory = categoryFilter.value;
        
        const rows = tableBody.querySelectorAll('tr');
        let visibleCount = 0;
        
        rows.forEach(row => {
            const channelName = row.querySelector('.channel-name').textContent.toLowerCase();
            const channelCode = row.querySelector('.channel-code code').textContent.toLowerCase();
            const category = row.dataset.category;
            
            const matchesSearch = channelName.includes(searchTerm) || channelCode.includes(searchTerm);
            const matchesCategory = !selectedCategory || category === selectedCategory;
            
            if (matchesSearch && matchesCategory) {
                row.style.display = '';
                visibleCount++;
            } else {
                row.style.display = 'none';
            }
        });
        
        resultCount.textContent = visibleCount;
    }
    
    searchInput.addEventListener('input', filterTable);
    categoryFilter.addEventListener('change', filterTable);
});

// Copy to clipboard functionality
function copyCode(code) {
    navigator.clipboard.writeText(code).then(function() {
        // Show success feedback
        const btn = event.target.closest('.btn-copy');
        const originalIcon = btn.querySelector('i');
        originalIcon.className = 'fa fa-check';
        btn.style.background = '#28a745';
        
        setTimeout(() => {
            originalIcon.className = 'fa fa-copy';
            btn.style.background = '';
        }, 2000);
    }).catch(function(err) {
        console.error('Could not copy text: ', err);
    });
}
</script>